<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Machine Learning Group Quiz Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f4;
        }
        .navbar {
            width: 100%;
            background-color: #333;
            overflow: hidden;
        }
        .navbar a {
            float: left;
            display: block;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
        }
        .navbar a:hover {
            background-color: #ddd;
            color: black;
        }
        .scoreboard {
            font-size: 20px;
            margin-bottom: 20px;
        }
        .question-container, .start-container {
            background-color: white;
            padding: 20px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 80%;
            max-width: 600px;
        }
        .question {
            font-size: 20px;
            margin-bottom: 20px;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .options button, .start-btn {
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
        }
        .submit-btn, .start-btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }
        .timer {
            font-size: 18px;
            margin-top: 10px;
            color: red;
        }
        .start-container h1 {
            color: #333;
        }
        .start-container p {
            text-align: left;
            margin-bottom: 15px;
        }
        .player-selection {
            margin-bottom: 20px;
        }
        .player-selection label {
            margin-right: 10px;
        }
        #player-count {
            padding: 5px;
            font-size: 16px;
        }
        .options button {
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            transition: background-color 0.3s;
        }
        .options button.selected {
            background-color: #4CAF50;
            color: white;
        }
    </style>
</head>
<body>
    <!-- Start Page Container -->
    <div class="start-container" id="start-container">
        <h1>Machine Learning Quiz Game</h1>
        <p><strong>Machine Learning</strong> is a branch of artificial intelligence that uses data and algorithms to mimic human learning, gradually improving its accuracy.</p>
        <p><strong>Supervised learning</strong> is a method of training models using labeled data, while <strong>unsupervised learning</strong> discovers patterns from unlabeled data.</p>
        <p><strong>Neural networks</strong> are computational models inspired by the human brain, widely used in deep learning.</p>
        <p><strong>Classification</strong> and <strong>regression</strong> are two common supervised learning tasks, used for predicting categories and continuous values respectively.</p>
        <div class="player-selection">
            <label for="player-count">Select number of players:</label>
            <select id="player-count">
                <option value="1">1 Player</option>
                <option value="2">2 Players</option>
                <option value="3">3 Players</option>
                <option value="4">4 Players</option>
            </select>
        </div>
        <button class="start-btn" onclick="showGame()">Start Game</button>
    </div>

    <!-- Game Container (Initially Hidden) -->
    <div id="game-container" style="display: none;">
        <!-- Navigation Bar -->
        <div class="navbar">
            <a href="#" onclick="restartGame()">Restart</a>
        </div>

        <!-- Scoreboard for all players -->
        <div class="scoreboard" id="scoreboard">
            Player 1: 100 | Player 2: 100 | Player 3: 100
        </div>

        <!-- Question and options container -->
        <div class="question-container" id="question-container">
            <div class="question" id="question">Press "Start Game" to begin</div>
            <div class="options" id="options"></div>
            <button class="submit-btn" id="submit-btn" onclick="submitAnswer()" disabled>Submit</button>
            <div class="timer" id="timer"></div>
        </div>
    </div>

    <script>
        // Initialize game variables
        let players = [];
        let currentPlayer = 0;
        let selectedAnswer = null;
        let shuffledQuestions = [];
        let timeLeft = 10;
        let timerInterval = null;
        let currentQuestionIndex = 0;

        // Example questions with difficulty levels (easy, medium, hard)
        const questions = [
            { 
                question: "What is supervised learning?", 
                options: ["Learning with labeled data", "Learning without data", "Learning from past mistakes", "Learning with no feedback", "Learning from the future"], 
                correct: 0, 
                difficulty: "easy" 
            },
            { 
                question: "Which of the following is a type of unsupervised learning?", 
                options: ["Decision Trees", "Support Vector Machines", "K-Means Clustering", "Linear Regression", "Neural Networks"], 
                correct: 2, 
                difficulty: "medium" 
            },
            { 
                question: "What is the primary function of a neural network?", 
                options: ["Sorting data", "Classifying data", "Compressing data", "Storing data", "Encrypting data"], 
                correct: 1, 
                difficulty: "hard" 
            }
            // Add more questions with different difficulty levels here
        ];

        // Shuffle questions randomly
        function shuffleQuestions() {
            shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
        }

        // Start the game: reset variables, shuffle questions, and load the first question
        function startGame() {
            const playerCount = parseInt(document.getElementById('player-count').value);
            players = [];
            for (let i = 1; i <= playerCount; i++) {
                players.push({ name: `Player ${i}`, score: 100 });
            }
            currentPlayer = 0;
            updateScoreboard();
            shuffleQuestions();
            loadQuestion();
        }

        // Update scoreboard display
        function updateScoreboard() {
            const scoreboardText = players.map(player => `${player.name}: ${player.score}`).join(' | ');
            document.getElementById('scoreboard').innerText = scoreboardText;
        }

        // Load the current question and start timer
        function loadQuestion() {
            if (players[currentPlayer].score <= 0) {
                alert(`${players[currentPlayer].name} is out!`);
                currentPlayer = (currentPlayer + 1) % players.length;
                loadQuestion();
                return;
            }

            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            document.getElementById('question').innerText = currentQuestion.question;
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = ''; // Clear previous options

            currentQuestion.options.forEach((option, index) => {
                const optionButton = document.createElement('button');
                optionButton.innerText = option;
                optionButton.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionButton);
            });

            // Reset selected answer and enable submit button
            selectedAnswer = null;
            document.getElementById('submit-btn').disabled = true;

            // Start the timer for the current question
            startTimer();
        }

        // Start the timer for each question
        function startTimer() {
            clearInterval(timerInterval);
            timeLeft = 10;
            document.getElementById('timer').innerText = `Time left: ${timeLeft}s`;

            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').innerText = `Time left: ${timeLeft}s`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert(`${players[currentPlayer].name} ran out of time!`);
                    deductPoints();
                }
            }, 1000);
        }

        // Handle option selection
        function selectOption(index) {
            selectedAnswer = index;
            document.getElementById('submit-btn').disabled = false;
            
            // Remove 'selected' class from all option buttons
            const optionButtons = document.querySelectorAll('.options button');
            optionButtons.forEach(button => button.classList.remove('selected'));
            
            // Add 'selected' class to the clicked button
            optionButtons[index].classList.add('selected');
        }

        // Submit the selected answer, update score, and load next question
        function submitAnswer() {
            clearInterval(timerInterval);
            const currentQuestion = shuffledQuestions[currentQuestionIndex];

            if (selectedAnswer === currentQuestion.correct) {
                alert("Correct!");
            } else {
                alert("Wrong! 10 points deducted.");
                deductPoints();
            }

            // Move to the next question or next player
            currentPlayer = (currentPlayer + 1) % players.length;
            currentQuestionIndex = (currentQuestionIndex + 1) % shuffledQuestions.length;
            loadQuestion();
        }

        // Deduct points for wrong answers or timeout
        function deductPoints() {
            players[currentPlayer].score -= 10;
            updateScoreboard();
        }

        // 显示游戏界面
        function showGame() {
            document.getElementById('start-container').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            startGame();
        }

        // 重新开始游戏
        function restartGame() {
            document.getElementById('start-container').style.display = 'block';
            document.getElementById('game-container').style.display = 'none';
        }
    </script>
</body>
</html>
